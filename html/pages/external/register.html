{{ define "content" }}
<style>
    .bg-image {
        position: absolute;
        top: 80%;
        left: 2%;
        width: 100% !important;
        height: 100% !important;
        background-image: url("/assets/img/elements/background.png");
        background-repeat: no-repeat;
        background-attachment: fixed;
        animation: background-animation-2 40s infinite;
        z-index: -2;
    }
</style>
    
<div class="bg-image"></div>

<div class="container is-fluid">
    <section class="section is-medium has-text-centered">
        <h1 class="title">Junte-se a sua nova casa</h1>    
    </section>
        
    <div class="columns is-centered">
        <div class="column is-two-thirds">
            <form method="POST" action="/v1/user/sign-up">
                <div class="field">
                    <label class="label">Nome completo</label>
                    <div class="control">
                        <input name="name" class="input" type="text" placeholder="Rafael Campos Nunes">
                    </div>
                </div>

                <div class="field">
                    <label class="label">Email</label>
                    <div class="control">
                        <input name="email" class="input" type="email" placeholder="rafaelnunes@outlook.com">
                    </div>
                </div>
                
                <div class="field">
                    <label class="label">Senha</label>
                    <div class="control">
                        <input name="password" class="input" type="password" placeholder="••••••••••••••••••••">
                    </div>
                </div>
                
                <div class="field is-horizontal">
                    <div class="field-body">
                        <div class="field">
                            <label class="label">Data de Nascimento</label>
                            <p class="control is-expanded">
                                <input name="birth" class="input" type="text" data-mask="00/00/0000" placeholder="15/07/1996">
                            </p>
                        </div>

                        <div class="field">
                            <label class="label">Telefone</label>
                            <p class="control is-expanded">
                                <input name="phone" class="input" data-mask="(00) 00000-0000" type="tel" placeholder="(45) 99921-1235">
                            </p>
                        </div>
                    </div>
                </div>
                
                <div class="level-right mt-5">
                    <p>Ao clicar em <b>criar</b> conta você aceita os <a href="#">Termos e Condições de Uso</a> da plataforma.</p>
                </div>

                <div class="field level-right pb-5">
                    <button class="button is-primary animate">
                        Criar conta
                    </button>
                </div>
            </form>
        </div>
    </div>
</div>
{{ end }}

{{ define "script" }}
    <script>
        'use strict'

        let left = $(".navbar-start")
        let right = $(".navbar-end")

        left.html("")
        right.html("")

        $("form").submit(e => {
            e.preventDefault()

            var params = new URLSearchParams()
            params.append('name', $('[name=name]').val())
            params.append('email', $('[name=email]').val())
            params.append('password', $('[name=password]').val())
            params.append('birth', $('[name=birth]').val())
            params.append('phone', $('[name=phone]').val())

            var request = axios.post('/v1/user/sign-up', params)

            request.then(response => {
                window.alert(response.data.Content)
                window.location.replace('/login')
            })

        })
    </script>
{{ end }}